/// <reference types="node" />
import http from 'http';
import qs from 'qs';
import { inferRouterContext } from '../..';
import { HTTPBaseHandlerOptions } from '../../http/internals/types';
import { AnyRouter } from '../../router';
export declare type NodeHTTPRequest = http.IncomingMessage & {
    method?: string;
    query?: qs.ParsedQs;
    body?: unknown;
};
export declare type NodeHTTPResponse = http.ServerResponse;
export declare type NodeHTTPCreateContextOption<TRouter extends AnyRouter, TRequest, TResponse> = unknown extends inferRouterContext<TRouter> ? {
    /**
     * @link https://trpc.io/docs/context
     **/
    createContext?: NodeHTTPCreateContextFn<TRouter, TRequest, TResponse>;
} : {
    /**
     * @link https://trpc.io/docs/context
     **/
    createContext: NodeHTTPCreateContextFn<TRouter, TRequest, TResponse>;
};
export declare type NodeHTTPHandlerOptions<TRouter extends AnyRouter, TRequest extends NodeHTTPRequest, TResponse extends NodeHTTPResponse> = HTTPBaseHandlerOptions<TRouter, TRequest> & {
    teardown?: () => Promise<void>;
    maxBodySize?: number;
} & NodeHTTPCreateContextOption<TRouter, TRequest, TResponse>;
export declare type NodeHTTPCreateContextFnOptions<TRequest, TResponse> = {
    req: TRequest;
    res: TResponse;
};
export declare type NodeHTTPCreateContextFn<TRouter extends AnyRouter, TRequest, TResponse> = (opts: NodeHTTPCreateContextFnOptions<TRequest, TResponse>) => inferRouterContext<TRouter> | Promise<inferRouterContext<TRouter>>;
//# sourceMappingURL=types.d.ts.map